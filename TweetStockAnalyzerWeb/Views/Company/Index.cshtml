@model TweetStockAnalyzerWeb.ViewModel.Company.CompanyIndexViewModel

@{
    ViewBag.Title = "CompanyList";
}

<style type="text/css">
    .bottom-margin {
        margin-top: 10px;
        margin-bottom: 10px;
        padding: 10px;
    }

    .border-box {
        border: 1px solid #ddd;
    }

    .align-right {
        float: right;
    }
</style>

<h2>Company</h2>
@if (!string.IsNullOrEmpty(@Model.SuccessMessage))
{
    <div id="successMessage" class="alert alert-success">
        @Model.SuccessMessage
    </div>
    @section scripts{
        <script type="text/javascript">
            $("#successMessage").animate({ opacity: 0 }, 3000, function () { $("#successMessage").slideUp(1000); });
        </script>
    }
}
<button type="button" class="btn btn-default" onclick="location.href='@Url.Action("Create")'">
    <span class="glyphicon glyphicon-plus"></span>Add
</button>

@{
    foreach (var company in Model.Companies)
    {
        <div class="border-box bottom-margin">
            <p>
                <b>@Html.ActionLink(company.CompanyName, "Detail", new { companyId = company.CompanyId })</b>
                @if (company.Stock != null)
                {
                    <span>(@company.Stock.StockCode)</span>
                }
                <span class="align-right">
                    @Html.ActionLink("Modify", "Update")
                    |
                    @Html.ActionLink(
                    "Delete",
                    "Delete",
                    new { companyId = company.CompanyId },
                    new { onclick = "return confirm('Are you sure you wish to delete this company?');" })
                </span>
            </p>
            <p>
                <div>
                    Chart
                </div>
            </p>
        </div>
    }
}